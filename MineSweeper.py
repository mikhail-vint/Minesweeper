import tkinter as tk  # –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º tkinter
from random import shuffle  # –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏
from tkinter.messagebox import showinfo, showerror  # –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

# —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ü–≤–µ—Ç–æ–≤ —Ü–∏—Ñ—Ä –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ –ø–æ –∫–æ–¥–∞–º HEX
colors = {
    1: 'blue', 2: 'green', 3: 'red', 4: '#4245f5', 5: 'brown', 6: '#42f5e3', 7: 'black', 8: '#f54242', 0: 'white'
}


# –ö–ª–∞—Å—Å - –Ω–∞–±–æ—Ä –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
# –§—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã
class MyButton(tk.Button):
    """ –ù–∞—Å–ª–µ–¥—É–µ—Ç –∫–ª–∞—Å—Å Button –∏–∑ tkinter """
    # –¢–µ–ø–µ—Ä—å –∫–ª–∞—Å—Å—É MyButton –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ tk.Button

    def __init__(self, master, x, y, number=0, *args, **kwargs):
        """
        –ú–µ—Ç–æ–¥ __init __ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç.
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.
        """
        # number - –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ (–∏–∑ —Å—á–µ—Ç—á–∏–∫–∞ count), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
        # x, y - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏,
        # *args, **kwargs - –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        # (–Ω–∞–ø—Ä–∏–º–µ—Ä, width, font –∏ —Ç.–¥.)

        super(MyButton, self).__init__(master, width=3, font='Calibri 15 bold', *args, **kwargs)
        # –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ init —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ (tk.Button) –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–ª–∞—Å—å –∏–∑–Ω–∞—á–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞,
        # –ø–æ—Ç–æ–º —É –Ω–µ–µ —É–∂–µ –±—É–¥–µ–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç—ã x –∏ y
        # —É–∫–∞–∑—ã–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –∫–Ω–æ–ø–∫–∏ (width) –∏ —à—Ä–∏—Ñ—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ (—à—Ä–∏—Ñ—Ç Calibri, —Ä–∞–∑–º–µ—Ä 15, –∂–∏—Ä–Ω—ã–π)
        self.x = x  # –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
        self.y = y  # –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
        self.number = number  # –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏
        self.is_mine = False  # –º–∏–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∏–ª–∏ –Ω–µ—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ –º–∏–Ω—ã
        self.count_bomb = 0  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
        self.is_open = False  # –æ—Ç–∫—Ä—ã–≤–∞–ª–∏ –∫–Ω–æ–ø–∫—É –∏–ª–∏ –Ω–µ—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã

    def __repr__(self):
        """ –í—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–Ω—Å–æ–ª–∏ –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∫–Ω–æ–ø–∫–∏"""
        return f'MyButton {self.x} {self.y} {self.number} {self.is_mine}'


class MineSweeper:

    window = tk.Tk()  # —Å–æ–∑–¥–∞–µ–º –æ–∫–Ω–æ
    ROWS = 10  # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫
    COLUMNS = 7  # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–æ–ª–±—Ü–æ–≤
    MINES = 15  # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω
    IS_GAME_OVER = False  # –∑–∞–∫–æ–Ω—á–µ–Ω–∞ –∏–≥—Ä–∞ –∏–ª–∏ –Ω–µ—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ—Ç
    IS_FIRST_CLICK = True  # –¥–ª—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–æ–º–± –Ω–∞ –ø–æ–ª–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞
    # –∏—Å–∫–ª—é—á–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ —Å—Ä–∞–∑—É –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –±–æ–º–±—É –∏ –∑–∞–∫–æ–Ω—á–∏—Ç—å –∏–≥—Ä—É

    def __init__(self):
        """
        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ, –≤–∫–ª—é—á–∞—è –±–∞—Ä—å–µ—Ä–Ω—ã–µ.
        –ë–∞—Ä—å–µ—Ä–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏ –±—ã–ª–æ –ø–æ 8 —Å–æ—Å–µ–¥–µ–π,
        –≤–∫–ª—é—á–∞—è –∫–Ω–æ–ø–∫–∏ –ø–æ –∫—Ä–∞—è–º –ø–æ–ª—è (—É –∫–æ—Ç–æ—Ä—ã—Ö –ª–∏–±–æ 5, –ª–∏–±–æ 3 —Å–æ—Å–µ–¥–∞).
        """
        # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ init (—Ç.–∫. –æ–Ω —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ tkinter)
        # –º–µ—Ç–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–ª–∞—Å—Å

        self.buttons = []  # –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫ (–∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ)
        # –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∫–ª–∞—Å—Å–∞ –æ–±—Ä–∞—â–∞–µ–º—Å—è —á–µ—Ä–µ–∑ self

        # —Ü–∏–∫–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –∫–Ω–æ–ø–æ–∫
        # –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ –∏–º—è –∫–ª–∞—Å—Å–∞
        for i in range(MineSweeper.ROWS + 2):  # –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (+2 –¥–ª—è –±–∞—Ä—å–µ—Ä–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫)

            temp = []  # –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

            for j in range(MineSweeper.COLUMNS + 2):  # –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ (+2 –¥–ª—è –±–∞—Ä—å–µ—Ä–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫)
                # —Å–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –æ–∫–Ω–µ (–≤—ã–∑—ã–≤–∞–µ–º –∏–∑ –∫–ª–∞—Å—Å–∞ MyButton),
                # –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (x = i (—Å—Ç—Ä–æ–∫–∏), y = j (—Å—Ç–æ–ª–±—Ü—ã))
                btn = MyButton(MineSweeper.window, x=i, y=j)
                # command –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–Ω–æ–ø–æ–∫
                # —Å–æ–∑–¥–∞–µ–º –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–ª–∏–∫ –æ—Ç —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
                btn.config(command=lambda button=btn: self.click(button))
                # bind –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏, Button-3 - –Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏
                btn.bind("<Button-3>", self.right_click)
                temp.append(btn)  # –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

            self.buttons.append(temp)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Ç–æ–≥–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏

    def right_click(self, event):
        """
        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏.
        –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ—á–∞—Ç—å –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ –º–∏–Ω—ã –Ω–∞ –ø–æ–ª–µ.
        """
        if MineSweeper.IS_GAME_OVER:  # —á—Ç–æ–±—ã –Ω–µ–ª—å–∑—è –±—ã–ª–æ —Å—Ç–∞–≤–∏—Ç—å –∏ —Å–Ω–∏–º–∞—Ç—å —Ñ–ª–∞–∂–∫–∏, –∫–æ–≥–¥–∞ –∏–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞
            return
        cur_btn = event.widget
        if cur_btn['state'] == 'normal':  # –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ event –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ normal
            cur_btn['state'] = 'disabled'  # –º–µ–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            cur_btn['text'] = 'üö©'  # –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —Å–∏–º–≤–æ–ª –æ—Ç–º–µ—Ç–∫–∏ –º–∏–Ω—ã
            cur_btn['disabledforeground'] = 'red'  # –º–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ñ–ª–∞–∂–∫–∞ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π
        elif cur_btn['text'] == 'üö©':  # –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å - —Å–Ω–∏–º–∞–µ–º —Ñ–ª–∞–∂–æ–∫ —Å –∫–Ω–æ–ø–∫–∏
            cur_btn['text'] = ''
            cur_btn['state'] = 'normal'

    def click(self, clicked_button: MyButton):
        """ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ """
        # –°–æ–∑–¥–∞–µ–º –≤ –∫–ª–∞—Å—Å–µ MineSweeper, –∞ –Ω–µ –≤ MyButton, —Ç.–∫. –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ —Å–æ—Å–µ–¥–Ω–∏–µ –∫–Ω–æ–ø–∫–∏,
        # –∞ –≤ –∫–ª–∞—Å—Å–µ MyButton —Ç–∞–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç
        # –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É (clicked_button)
        # —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ–º (MyButton)

        if MineSweeper.IS_GAME_OVER:  # —á—Ç–æ–±—ã –Ω–µ–ª—å–∑—è –±—ã–ª–æ –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞
            return

        if MineSweeper.IS_FIRST_CLICK:  # –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π –∫–ª–∏–∫, —Ç–æ –¥–∞–ª–µ–µ –¥–µ–π—Å—Ç–≤—É–µ–º:
            self.insert_mines(clicked_button.number)  # —Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ–º –º–∏–Ω—ã
            self.count_mines_in_buttons()  # —Å—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
            self.print_buttons()  # –≤—ã–≤–æ–¥–∏–º –∫–Ω–æ–ø–∫–∏
            MineSweeper.IS_FIRST_CLICK = False  # —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –ø–µ—Ä–≤—ã–π –∫–ª–∏–∫ —É–∂–µ –±—ã–ª

        if clicked_button.is_mine:  # –µ—Å–ª–∏ –Ω–∞–∂–∞–ª–∏ –Ω–∞ –º–∏–Ω—É, —Ç–æ –¥–∞–ª–µ–µ –¥–µ–π—Å—Ç–≤—É–µ–º:
            # —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º '*', –º–µ–Ω—è–µ–º —Ñ–æ–Ω –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π, —Ü–≤–µ—Ç —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è * —á–µ—Ä–Ω—ã–π (disabledforeground)
            clicked_button.config(text='*', background='red', disabledforeground='black')
            clicked_button.is_open = True  # –º–µ–Ω—è–µ–º –∞—Ç—Ç—Ä–∏–±—É—Ç is_open –Ω–∞ True (–∫–Ω–æ–ø–∫—É —É–∂–µ –æ—Ç–∫—Ä—ã–ª–∏)
            MineSweeper.IS_GAME_OVER = True  # –∫–æ–Ω–µ—Ü –∏–≥—Ä—ã, —Ç.–∫. –Ω–∞–∂–∞–ª–∏ –Ω–∞ –±–æ–º–±—É
            showinfo('Game Over', '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!')  # –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

            # –Ω–∏–∂–µ —Ü–∏–∫–ª –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞, –≥–¥–µ –±—ã–ª–∏ –º–∏–Ω—ã
            for i in range(1, MineSweeper.ROWS + 1):  # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
                for j in range(1, MineSweeper.COLUMNS + 1):  # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞
                    # –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
                    # +2 –º–µ–Ω—è–µ–º –Ω–∞ +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞
                    btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                    if btn.is_mine:  # –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ - –º–∏–Ω–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º *
                        btn['text'] = '*'
        else:  # –µ—Å–ª–∏ –Ω–∞–∂–∞–ª–∏ –Ω–µ –Ω–∞ –º–∏–Ω—É, —Ç–æ –¥–∞–ª–µ–µ –¥–µ–π—Å—Ç–≤—É–µ–º:
            color = colors.get(clicked_button.count_bomb)  # –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è color
            if clicked_button.count_bomb:  # –µ—Å–ª–∏ –µ—Å—Ç—å –º–∏–Ω—ã —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
                # —Ç–µ–∫—Å—Ç - —Å–∫–æ–ª—å–∫–æ –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
                clicked_button.config(text=clicked_button.count_bomb, disabledforeground=color)
                clicked_button.is_open = True  # –º–µ–Ω—è–µ–º –∞—Ç—Ä–∏–±—É—Ç is_open –Ω–∞ True (–∫–Ω–æ–ø–∫—É —É–∂–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏)
            else:  # –µ—Å–ª–∏ –Ω–µ—Ç –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π, –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –º–µ—Ç–æ–¥—É "–ø–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É"
                self.breadth_first_search(clicked_button)  # –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–æ—Å–µ–¥–Ω–∏—Ö –ø—É—Å—Ç—ã—Ö –∫–Ω–æ–ø–æ–∫
        # –º–µ–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–Ω–æ–ø–∫–∏
        clicked_button.config(state='disabled')  # —Ç–µ–ø–µ—Ä—å –Ω–µ–ª—å–∑—è –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É
        clicked_button.config(relief=tk.SUNKEN)  # –≤—ã–¥–µ–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∫–∞–∫ "–Ω–∞–∂–∞—Ç—É—é"

    def breadth_first_search(self, btn: MyButton):
        """
        –ü–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É (–¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–æ—Å–µ–¥–Ω–∏—Ö –ø—É—Å—Ç—ã—Ö –∫–Ω–æ–ø–æ–∫ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ,
        –µ—Å–ª–∏ –Ω–∞–∂–∞–ª–∏ –Ω–∞ –ø—É—Å—Ç—É—é –∫–Ω–æ–ø–∫—É (–Ω–µ –º–∏–Ω–∞ –∏ –Ω–µ—Ç –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π)
        """
        queue = [btn]  # —Å–ø–∏—Å–æ–∫ –∫–Ω–æ–ø–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –º–∏–Ω –∏–ª–∏ —Ü–∏—Ñ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω —Ä—è–¥–æ–º
        # –ø–æ–∫–∞ –≤ —Å–ø–∏—Å–∫–µ –∫–Ω–æ–ø–∫–∞, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–∂–∞–ª–∏
        # –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏ –∏ –∏—Ö —Å–æ—Å–µ–¥–µ–π, –µ—Å–ª–∏ —ç—Ç–∏ –∫–Ω–æ–ø–∫–∏ –ø—É—Å—Ç—ã–µ
        while queue:  # –ø–æ–∫–∞ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ —Å–ø–∏—Å–∫–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            cur_btn = queue.pop()  # –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –¥–æ—Å—Ç–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            # –ú–µ—Ç–æ–¥ pop() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ —É–¥–∞–ª—è–µ—Ç –µ–≥–æ –≤ —Å–ø–∏—Å–∫–µ
            color = colors.get(cur_btn.count_bomb, 'black')  # –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è color
            if cur_btn.count_bomb:  # –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç –±–æ–º–±—ã —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫
                cur_btn.config(text=cur_btn.count_bomb, disabledforeground=color)  # —Ç–µ–∫—Å—Ç - —Å–∫–æ–ª—å–∫–æ –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
            else:  # –µ—Å–ª–∏ –±–æ–º–± –Ω–µ—Ç
                cur_btn.config(text='', disabledforeground=color)  # –ø—É—Å—Ç–æ–π —Ç–µ–∫—Å—Ç

            cur_btn.is_open = True  # –º–µ–Ω—è–µ–º –∞—Ç—Ä–∏–±—É—Ç is_open –Ω–∞ True (–∫–Ω–æ–ø–∫—É —É–∂–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏)
            cur_btn.config(state='disabled')  # —Ç–µ–ø–µ—Ä—å –Ω–µ–ª—å–∑—è –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É
            cur_btn.config(relief=tk.SUNKEN)  # –≤—ã–¥–µ–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∫–∞–∫ "–Ω–∞–∂–∞—Ç—É—é"
            # –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏ –∫–Ω–æ–ø–∫—É, –Ω—É–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –µ–µ —Å–æ—Å–µ–¥–µ–π –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
            if cur_btn.count_bomb == 0:  # —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–π –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏–º–µ–µ—Ç –±–æ–º–± —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
                x, y = cur_btn.x, cur_btn.y  # –≤ x, y –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–∏
                for dx in [-1, 0, 1]:  # –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π –ø–æ x
                    for dy in [-1, 0, 1]:  # –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π –ø–æ y
                        next_btn = self.buttons[x + dx][y + dy]  # –ø–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–ª–µ–¥—É—é—â–µ–π –∫–Ω–æ–ø–∫–∏
                        if not next_btn.is_open and \
                                1 <= next_btn.x <= MineSweeper.ROWS and \
                                1 <= next_btn.y <= MineSweeper.COLUMNS and \
                                next_btn not in queue:
                            # –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –µ—â–µ –Ω–µ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –∏ –æ–Ω–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –±–∞—Ä—å–µ—Ä–Ω–æ–π
                            # –∏ —É–∂–µ –Ω–µ —Å—Ç–æ–∏—Ç –≤ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
                            queue.append(next_btn)  # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É

    def reload(self):
        """ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É """
        # –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ destroy –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–∫–Ω–∞
        [child.destroy() for child in self.window.winfo_children()]
        self.__init__()  # —Ñ–æ—Ä–º–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏
        self.create_widgets()  # –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫
        MineSweeper.IS_FIRST_CLICK = True  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ True (—Ç.–∫. —É–∂–µ –Ω–∞–∂–∏–º–∞–ª–∏ –∫–Ω–æ–ø–∫—É)
        MineSweeper.IS_GAME_OVER = False  # –µ—Å–ª–∏ reload –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã

    def create_settings_win(self):
        """ –°–æ–∑–¥–∞–µ—Ç –º–µ–Ω—é –∏–≥—Ä—ã """
        win_settings = tk.Toplevel(self.window)  # –¥–æ—á–µ—Ä–Ω–µ–µ –æ–∫–Ω–æ, –ø–µ—Ä–µ–¥–∞–µ–º, –∫ –∫–∞–∫–æ–º—É –æ–∫–Ω—É –æ–Ω–æ –±—É–¥–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è
        win_settings.wm_title('–ù–∞—Å—Ç—Ä–æ–π–∫–∏')  # –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        # —Å–æ–∑–¥–∞–µ–º –ª–µ–π–±–ª—ã –¥–ª—è –º–µ–Ω—é, —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∏ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è (–≤ grid)
        tk.Label(win_settings, text='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫').grid(row=0, column=0)
        row_entry = tk.Entry(win_settings)  # –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä—è–¥—ã
        row_entry.insert(0, MineSweeper.ROWS)  # –∏–Ω–¥–µ–∫—Å, –∫—É–¥–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å, –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        row_entry.grid(row=0, column=1, padx=20, pady=20)  # —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç—Å—Ç—É–ø—ã –ø–æ x –∏ y
        # —Å–æ–∑–¥–∞–µ–º –ª–µ–π–±–ª—ã –¥–ª—è –º–µ–Ω—é, —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∏ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è (–≤ grid)
        tk.Label(win_settings, text='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤').grid(row=1, column=0)
        column_entry = tk.Entry(win_settings)  # –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å—Ç–æ–ª–±—Ü—ã
        column_entry.insert(0, MineSweeper.COLUMNS)  # –∏–Ω–¥–µ–∫—Å, –∫—É–¥–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å, –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        column_entry.grid(row=1, column=1, padx=20, pady=20)  # —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç—Å—Ç—É–ø—ã –ø–æ x –∏ y
        # —Å–æ–∑–¥–∞–µ–º –ª–µ–π–±–ª—ã –¥–ª—è –º–µ–Ω—é, —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∏ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è (–≤ grid)
        tk.Label(win_settings, text='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω').grid(row=2, column=0)
        mines_entry = tk.Entry(win_settings)  # –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –º–∏–Ω—ã
        mines_entry.insert(0, MineSweeper.MINES)  # –∏–Ω–¥–µ–∫—Å, –∫—É–¥–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å, –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        mines_entry.grid(row=2, column=1, padx=20, pady=20)  # —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç—Å—Ç—É–ø—ã –ø–æ x –∏ y
        # —Å–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏–≥—Ä–µ
        save_btn = tk.Button(win_settings, text='–ü—Ä–∏–º–µ–Ω–∏—Ç—å',
                  command=lambda: self.change_settings(row_entry, column_entry, mines_entry))
        # —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É 3–≥–æ —Ä—è–¥–∞, columnspan - –æ–±—ä–µ–¥–∏–Ω—è–µ–º 2 —Å—Ç–æ–ª–±—Ü–∞
        save_btn.grid(row=3, column=0, columnspan=2, padx=20, pady=20)

    def change_settings(self, row: tk.Entry, column: tk.Entry, mines: tk.Entry):
        """
        –ú–µ–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫, —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –º–∏–Ω),
        –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫.
        """
        # –ø–µ—Ä–µ–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É, —Å—Ç–æ–ª–±–µ—Ü –∏ –º–∏–Ω—ã –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
        try:
            int(row.get()), int(column.get()), int(mines.get())  # –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —á–∏—Å–ª–∞
        except:
            showerror('–û—à–∏–±–∫–∞', '–í—ã –≤–≤–µ–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!')  # –ø–æ–∫–∞–∑ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω—ã –Ω–µ —á–∏—Å–ª–∞
            return  # –≤—ã—Ö–æ–¥
        MineSweeper.ROWS = int(row.get())  # –ø–µ—Ä–µ–¥–∞–µ–º –≤ ROW —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ (int) –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
        MineSweeper.COLUMNS = int(column.get())  # –ø–µ—Ä–µ–¥–∞–µ–º —á–∏—Å–ª–æ —Å—Ç–æ–ª–±—Ü–æ–≤ (int) –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
        MineSweeper.MINES = int(mines.get())  # –ø–µ—Ä–µ–¥–∞–µ–º —á–∏—Å–ª–æ –º–∏–Ω (int) –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
        self.reload()  # –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–µ–ª–∞–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã

    def create_widgets(self):
        """ –†–∞–∑–º–µ—â–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ –∏ –º–µ–Ω—é –∏–≥—Ä—ã """
        menubar = tk.Menu(self.window)  # —Å–æ–∑–¥–∞–µ–º –º–µ–Ω—é, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º –∫ –æ–∫–Ω—É
        self.window.config(menu=menubar)
        settings_menu = tk.Menu(menubar, tearoff=0)  # —Å–æ–∑–¥–∞–µ–º –ø–æ–¥–º–µ–Ω—é, tearoff - —É–¥–∞–ª—è–µ–º —Å—Ç—Ä–æ—á–∫—É —Å —Ç–∏—Ä–µ –≤ –ø–æ–¥–º–µ–Ω—é
        # –Ω–∏–∂–µ –∫–Ω–æ–ø–∫–∏ –≤ –ø–æ–¥–º–µ–Ω—é
        settings_menu.add_command(label='–ò–≥—Ä–∞—Ç—å', command=self.reload)  # –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ '–ò–≥—Ä–∞—Ç—å'
        settings_menu.add_command(label='–ù–∞—Å—Ç—Ä–æ–π–∫–∏', command=self.create_settings_win)
        settings_menu.add_command(label='–í—ã—Ö–æ–¥', command=self.window.destroy)  # –≤—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –í—ã—Ö–æ–¥
        menubar.add_cascade(label='–§–∞–π–ª', menu=settings_menu)  # –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤ –∫–∞—Å–∫–∞–¥ –ø–æ–¥ –∏–º–µ–Ω–µ–º –§–∞–π–ª

        count = 1  # —Å—á–µ—Ç—á–∏–∫
        for i in range(1, MineSweeper.ROWS + 1):  # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
            for j in range(1, MineSweeper.COLUMNS + 1):  # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞
                # –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
                # +2 –º–µ–Ω—è–µ–º –Ω–∞ +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞                
                btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                btn.number = count  # –Ω–∞–∑–Ω–∞—á–∞–µ–º –∫–Ω–æ–ø–∫–µ –Ω–æ–º–µ—Ä
                # —Ä–∞–∑–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ
                # stick - —Ä–∞—Å—Ç—è–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–æ —Å—Ç–æ—Ä–æ–Ω–∞–º —Å–≤–µ—Ç–∞ (North, South, West, East)
                # –Ω–∞ —Ç–æ—Ç —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è
                btn.grid(row=i, column=j, stick='NSWE')
                count += 1  # —Å –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–æ–π count —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1

        for i in range(1, MineSweeper.ROWS + 1):  # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
            # –∞—Ç—Ç—Ä–∏–±—É—Ç Grid, –º–µ—Ç–æ–¥ rowconfigure - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏
            # –ø–µ—Ä–µ–¥–∞–µ–º, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–∞, –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è i), –∫–∞–∫–æ–π –±—É–¥–µ—Ç –≤–µ—Å —É —Å—Ç—Ä–æ–∫–∏ (weight)
            # (—ç—Ç–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–∏–º)
            tk.Grid.rowconfigure(self.window, i, weight=1)

        for i in range(1, MineSweeper.COLUMNS + 1):  # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞
            # –∞—Ç—Ç—Ä–∏–±—É—Ç Grid, –º–µ—Ç–æ–¥ columnconfigure - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–æ–ª–±—Ü–∞
            # –ø–µ—Ä–µ–¥–∞–µ–º, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü, –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞ (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è j), –∫–∞–∫–æ–π –±—É–¥–µ—Ç –≤–µ—Å —É —Å—Ç–æ–ª–±—Ü–∞ (weight)
            # (—ç—Ç–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è —Å—Ç–æ–ª–±—Ü–∞ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–∏–º)
            tk.Grid.columnconfigure(self.window, i, weight=1)

    def open_all_buttons(self):
        """ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–æ–ª–µ """
        for i in range(MineSweeper.ROWS + 2):  # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, +2 –¥–ª—è –±–∞—Ä—å–µ—Ä–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
            for j in range(MineSweeper.COLUMNS + 2):  # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞, +2 –¥–ª—è –±–∞—Ä—å–µ—Ä–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
                btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                if btn.is_mine:  # –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ - –º–∏–Ω–∞
                    # —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ *, –º–µ–Ω—è–µ–º —Ñ–æ–Ω –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π, —Ü–≤–µ—Ç —à—Ä–∏—Ñ—Ç–∞ —á–µ—Ä–Ω—ã–π (disabledforeground)
                    btn.config(text='*', background='red', disabledforeground='black')
                # –µ—Å–ª–∏ –∫–æ–ª-–≤–æ –±–æ–º–± —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π, –µ—Å—Ç—å —Å—Ä–µ–¥–∏ –∫–ª—é—á–µ–π –≤ —Å–ª–æ–≤–∞—Ä–µ colors (—á—Ç–æ–±—ã –Ω–µ –≤—ã–≤–æ–¥–∏–ª—Å—è 0)
                elif btn.count_bomb in colors:
                    color = colors.get(btn.count_bomb)  # –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
                    btn.config(text=btn.count_bomb, fg=color)  # —Ç–µ–∫—Å—Ç - –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ + —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç

    def start(self):
        """ –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É """
        self.create_widgets()  # —Å–æ–∑–¥–∞–µ–º –≤–∏–¥–∂–µ—Ç—ã
        MineSweeper.window.mainloop()  # –≤—ã–≤–æ–¥–∏–º –æ–∫–Ω–æ (mainloop - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π)
        # —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ROW –∏ COLUMNS (–ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)      

    def print_buttons(self):
        """ –í—ã–≤–æ–¥–∏—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –∫–Ω–æ–ø–æ–∫ –Ω–∞ —ç–∫—Ä–∞–Ω """
        for i in range(1, MineSweeper.ROWS + 1):
            # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
            # +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞
            for j in range(1, MineSweeper.COLUMNS + 1):
                # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞, –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
                # +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞
                btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                if btn.is_mine:  # –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ - –º–∏–Ω–∞
                    print('B', end='')  # –≤—ã–≤–æ–¥–∏–º B, —É–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫
                else:  # –µ—Å–ª–∏ –Ω–µ –º–∏–Ω–∞
                    print(btn.count_bomb, end='')  # –≤—ã–≤–æ–¥–∏–º —Å–∫–æ–ª—å–∫–æ –º–∏–Ω –≤–æ–∫—Ä—É–≥, —É–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫
            print()  # –¥–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç–æ–π –ø—Ä–∏–Ω—Ç –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞ –ø–æ —Å—Ç—Ä–æ–∫–∞–º

    def insert_mines(self, number: int):
        """ –†–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç –º–∏–Ω—ã –Ω–∞ –ø–æ–ª–µ """
        index_mines = self.get_mines_places(number)  # –ø–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –º–∏–Ω
        print(index_mines)
        for i in range(1, MineSweeper.ROWS + 1):
            # i - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
            # +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞
            for j in range(1, MineSweeper.COLUMNS + 1):
                # j - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞, –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç.–∫. 0 - –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
                # +1, —Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ–∂–µ –±–∞—Ä—å–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞
                btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                if btn.number in index_mines:  # –µ—Å–ª–∏ –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ –≤ —Å–ø–∏—Å–∫–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –º–∏–Ω
                    btn.is_mine = True  # –º–µ–Ω—è–µ–º –∞—Ç—Ç—Ä–∏–±—É—Ç –∫–Ω–æ–ø–∫–∏ is_mine —Å False –Ω–∞ True
        # –≤ –∏—Ç–æ–≥–µ –Ω–æ–º–µ—Ä–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è –≤—Å–µ–º –∫–Ω–æ–ø–∫–∞–º, –∫—Ä–æ–º–µ –±–∞—Ä—å–µ—Ä–Ω—ã—Ö (–ø–æ –∫—Ä–∞—è–º –ø–æ–ª—è)

    def count_mines_in_buttons(self):
        """ –ù–∞—Ö–æ–¥–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏-–Ω–µ –º–∏–Ω—ã """
        for i in range(1, MineSweeper.ROWS + 1):
            # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å—Ç—Ä–æ–∫–∞–º, –∫—Ä–æ–º–µ –±–∞—Ä—å–µ—Ä–Ω—ã—Ö
            for j in range(1, MineSweeper.COLUMNS + 1):
                # –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å—Ç–æ–ª–±—Ü–∞–º, –∫—Ä–æ–º–µ –±–∞—Ä—å–µ—Ä–Ω—ã—Ö
                btn = self.buttons[i][j]  # —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)
                count_bomb = 0  # –∑–∞–≤–æ–¥–∏–º —Å—á–µ—Ç—á–∏–∫ –±–æ–º–± —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π
                if not btn.is_mine:  # —Å—á–∏—Ç–∞–µ–º —Å–æ—Å–µ–¥–µ–π —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö –∫–Ω–æ–ø–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –±–æ–º–±–æ–π
                    for row_dx in [-1, 0, 1]:
                        for col_dx in [-1, 0, 1]:
                            neighbour = self.buttons[i + row_dx][j + col_dx]  # –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ—Å–µ–¥–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ btn
                            if neighbour.is_mine:  # –µ—Å–ª–∏ —Å–æ—Å–µ–¥ - –º–∏–Ω–∞, —Å—á–µ—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º
                                count_bomb += 1
                btn.count_bomb = count_bomb  # –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏

    @staticmethod  # —Å—Ç–∞—Ç–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ (–¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –±–µ–∑ self)
    def get_mines_places(exclude_number: int):
        # –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –º–∏–Ω, –∏—Å–∫–ª—é—á–∞–µ–º –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞
        indexes = list(range(1, MineSweeper.COLUMNS * MineSweeper.ROWS + 1))
        # –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–æ–º–µ—Ä–æ–≤ –æ—Ç 1 –¥–æ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–Ω–æ–ø–æ–∫
        # –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –ø—Ä–∏–±–∞–≤–ª—è–µ–º 1
        # (—Ç.–∫. –ø–æ—Å–ª–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –≤ range –Ω–µ –≤—Ö–æ–¥–∏—Ç)
        print(f'–ò—Å–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–æ–º–µ—Ä {exclude_number}')
        indexes.remove(exclude_number)  # —É–¥–∞–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞
        shuffle(indexes)  # –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å –Ω–æ–º–µ—Ä–∞–º–∏ –∫–Ω–æ–ø–æ–∫
        return indexes[:MineSweeper.MINES]  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã —Å –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω


game = MineSweeper()  # –≤—ã–∑–æ–≤ –∫–ª–∞—Å—Å–∞
# –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ game, –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ game.buttons
game.start()  # –∑–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É